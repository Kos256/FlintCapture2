<Window x:Name="window" x:Class="FlintCapture2.ImageEditWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:FlintCapture2"
        mc:Ignorable="d"
            Title="New Screenshot" Height="600" Width="850" WindowStyle="None" AllowsTransparency="True" Background="{x:Null}" Foreground="White" FontSize="16" BorderBrush="#FF00B8FD" FontFamily="{DynamicResource ExoRegular}">
    <Grid x:Name="RootGrid" Background="#FF00141C">
        <Grid x:Name="WindowBarGrid" VerticalAlignment="Top" Height="50" Background="#FF00B8FD">
            <TextBlock x:Name="winTitle" HorizontalAlignment="Left" Margin="15,0,0,0" TextWrapping="Wrap" VerticalAlignment="Center" Foreground="Black" FontSize="20" Text="{Binding Title, ElementName=window}"/>
            <Button TabIndex="-1" x:Name="winCtrlClose" HorizontalAlignment="Right" Foreground="{x:Null}" Width="50" BorderBrush="{x:Null}" BorderThickness="0,0,0,0" Click="winCtrlClose_Click" Margin="0,0,5,0">
                <Button.Background>
                    <ImageBrush ImageSource="/assets/icons/window controls/close.png" Viewport="0.25,0.25,0.5,0.5"/>
                </Button.Background>
            </Button>
            <Button TabIndex="-1" x:Name="winCtrlMinimize" HorizontalAlignment="Right" Foreground="{x:Null}" Width="50" BorderBrush="{x:Null}" BorderThickness="0,0,0,0" Margin="0,0,60,0" Click="winCtrlMinimize_Click">
                <Button.Background>
                    <ImageBrush Stretch="Uniform" ImageSource="/assets/icons/window controls/minimize.png" Viewport="0.25,0.25,0.5,0.5"/>
                </Button.Background>
            </Button>
            <Rectangle x:Name="winbarCollider" Margin="0,0,120,0" Fill="Transparent"/>
        </Grid>
        <Border x:Name="windowFocusBorder" BorderBrush="{Binding BorderBrush, ElementName=window}" BorderThickness="1" d:IsLocked="True" d:IsHidden="True"/>
        <Grid VerticalAlignment="Top" Margin="10,61,10,0" Height="450" Background="#0CFFFFFF">
            <TextBlock x:Name="loadingImgText" HorizontalAlignment="Center" TextWrapping="Wrap" Text="Loading image..." VerticalAlignment="Center" FontSize="48" Foreground="#FF00B9FF"/>
            <Image x:Name="imgPreview" HorizontalAlignment="Left"/>
            <InkCanvas x:Name="annotationCanvas" Background="{x:Null}" Visibility="Hidden">
                <InkCanvas.DefaultDrawingAttributes>
                    <DrawingAttributes Color="Red"
                       Width="4"
                       Height="4"
                       FitToCurve="True"/>
                </InkCanvas.DefaultDrawingAttributes>
            </InkCanvas>
            <Canvas x:Name="cropCanvas">
                <Path x:Name="cropOverlayPath" Fill="#7F000000" Stretch="None"/>
                <Rectangle x:Name="selectionRect"
           Stroke="#FF00B8FD"
           StrokeThickness="2"
           Width="40"
           Height="50"
           Canvas.Left="20"
           Canvas.Top="10"/>

                <!-- Top Left -->
                <Thumb x:Name="tlHandle"
       Width="20"
       Height="20"
       Background="White"
       BorderBrush="Black"
       BorderThickness="1" Canvas.Left="10"/>

                <!-- Top Right -->
                <Thumb x:Name="trHandle"
       Width="20"
       Height="20"
       BorderBrush="Black"
       BorderThickness="1" Canvas.Left="50" Opacity="0.1"/>

                <!-- Bottom Left -->
                <Thumb x:Name="blHandle"
       Width="20"
       Height="20"
       Background="White"
       BorderBrush="Black"
       BorderThickness="1" Canvas.Left="10" Canvas.Top="50" Opacity="0.1"/>

                <!-- Bottom Right -->
                <Thumb x:Name="brHandle"
       Width="20"
       Height="20"
       Background="White"
       BorderBrush="Black"
       BorderThickness="1" Canvas.Left="50" Canvas.Top="50"/>
            </Canvas>
        </Grid>
        <Button x:Name="copyBtn" Content="Copy image" Style="{StaticResource DefaultButtonStyle}" HorizontalAlignment="Right" Margin="0,0,80,20" VerticalAlignment="Bottom" Click="menuBtnClicked"/>
        <Button x:Name="saveBtn" Content="Save" Style="{StaticResource DefaultButtonStyle}" HorizontalAlignment="Right" Margin="0,0,10,20" VerticalAlignment="Bottom" Click="menuBtnClicked"/>
        <Button x:Name="cropBtn" Content="Quick Crop" Style="{StaticResource DefaultButtonStyle}" HorizontalAlignment="Left" Margin="10,0,0,20" VerticalAlignment="Bottom" Click="menuBtnClicked"/>

    </Grid>
</Window>
